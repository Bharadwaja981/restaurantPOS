<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rest</title>
    <!-- Google Material Icons CSS -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Google Material Design Lite CSS -->
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
</head>
<body>

    <div class="rectangle">
        <div class="d-flex flex-column align-items-center">
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect btn btn-lg mb-5" style="width: 550px; height: 150px;" onclick="navigateToTables()">
                 Dine-In
            </button>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect btn btn-lg mb-5" style="width: 550px; height: 150px;" onclick="openTakeawayModal()">
                Takeaway
            </button>
            <!-- Modal for Takeaway -->
            <div class="modal" id="takeawayModal" tabindex="-1" aria-labelledby="takeawayModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h5 class="modal-title" id="takeawayModalLabel">Enter Your Information</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <!-- Modal Body -->
                        <div class="modal-body">
                            <form>
                                <div class="mb-3">
                                    <label for="customerName" class="form-label">Customer Name*</label>
                                    <input type="text" class="form-control" id="customerName" required oninput="toggleSubmitButton()">
                                    <div class="invalid-feedback">Please enter your name.</div>
                                </div>
                                <div class="mb-3">
                                    <label for="contactNumber" class="form-label">Contact Number</label>
                                    <input type="tel" class="form-control" id="contactNumber">
                                </div>
                                <div class="d-flex justify-content-between">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                    <button type="button" class="btn btn-primary" id="submitBtn" onclick="proceedToTakeaway()" disabled>Proceed</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End of Modal for Takeaway -->
            
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect btn btn-lg mb-5" style="width: 550px; height: 150px;">
                 Orders
            </button>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect btn btn-lg mb-5" style="width: 550px; height: 150px;">
                 Open & Close Till
            </button>
        </div>
    </div>

    <!-- Google Material Design Lite JS -->
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <!-- Bootstrap JS (optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        function navigateToTables() {
            window.location.href = "../Frontend/pages/tabels/tabels.html";
        }
        function openTakeawayModal() {
            // Open the Takeaway modal using Bootstrap
            var modal = new bootstrap.Modal(document.getElementById('takeawayModal'));
            modal.show();
        }

        function toggleSubmitButton() {
            // Enable or disable the "Proceed" button based on the presence of the customer name
            var customerName = document.getElementById('customerName').value;
            var submitBtn = document.getElementById('submitBtn');
            
            if (customerName.trim() === '') {
                submitBtn.disabled = true;
            } else {
                submitBtn.disabled = false;
            }
        }

        function proceedToTakeaway() {
            // Get the customer name and phone number from the modal
            var customerName = document.getElementById('customerName').value;
            var contactNumber = document.getElementById('contactNumber').value;

            // Validate customer name
            var nameInput = document.getElementById('customerName');
            var submitBtn = document.getElementById('submitBtn');
            if (customerName.trim() === '') {
                nameInput.classList.add('is-invalid');
                submitBtn.disabled = true;
                return;
            } else {
                nameInput.classList.remove('is-invalid');
            }

            // Close the modal
            var modal = new bootstrap.Modal(document.getElementById('takeawayModal'));
            modal.hide();

            // Proceed to the Takeaway page with the customer name and phone number
            window.location.href = "../Frontend/pages/takeaway/takeaway.html?name=" + encodeURIComponent(customerName) + "&phone=" + encodeURIComponent(contactNumber);
        }
    </script>

</body>
</html>
