<!-- category.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vegetable Main Page</title>
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="../category/category.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div id="itemModal" class="modal" >
        <div class="modal-content" >
            <span class="close" onclick="closeModal()">&times;</span>
            <div style="justify-content: center; margin-top: 30px;">
                <div id="item-details" class="item-prop">
                    <label id="itemName" class="cname">Item Name: </label>
                </div>
                <div id="quantityControls" class="quantity-controls">
                    <label class="txt"> Add Quantity:</label>
                    <button class="quantity-btn" onclick="incrementQuantity()">+</button>
                    <span id="quantityValue">01</span>
                    <button class="quantity-btn" onclick="decrementQuantity()">-</button>
                </div>
                <div>
                    <div class="container-group">
                        <div class="spicy-level-container">
                            <!-- Spicy Level -->
                            <label class="spicy-level txt">Spicy Level:</label>
                            <select id="spicyLevel" class="mdl-textfield__input" required>
                                <option value="none" class="spicy-level-option" selected>None</option>
                                <option value="mild" class="spicy-level-option">Mild</option>
                                <option value="medium" class="spicy-level-option">Medium</option>
                                <option value="spicy" class="spicy-level-option">Spicy</option>
                                <option value="extra-spicy" class="spicy-level-option">Extra Spicy</option>
                            </select>
                        </div>
                        <div class="portion-container" id="portionid">
                            <!-- Portion -->
                            <label class="portion txt">Portion:</label>
                            <select id="portion" class="mdl-textfield__input" required>
                                <option value="none" class="spicy-level-option" selected>None</option>
                                <option value="regular" class="spicy-level-option">Regular</option>
                                <option value="large" class="spicy-level-option">Large</option>
                            </select>
                        </div>
                        <div class="type-container" id="typeid">
                            <label class="type txt">Type:</label>
                            <select id="type" class="mdl-textfield__input" required>
                                <option value="none" class="type-option" selected>None</option>
                                <option value="Curry" class="type-option">Curry</option>
                                <option value="Bhuna" class="type-option">Bhuna</option>
                                <option value="Madras" class="type-option">Madras</option>
                                <option value="Jalfrezi" class="type-option">Jalfrezi</option>
                                <option value="Kadai" class="type-option">Kadai</option>
                                <option value="Tawa" class="type-option">Tawa</option>
                                <option value="Vandaloo" class="type-option">Vindaloo</option>
                                <option value="Palak" class="type-option">Palak</option>
                                <option value="Saag" class="type-option">Saag</option>
                                <option value="Methi" class="type-option">Methi</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="txt-area-container">
                    <label class="txt"> Add customer note here :</label>
                    <textarea id="notes" class="notes" name=" " rows="4" cols="50"></textarea>
                </div>
                
                <div class="button-container">
                    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect btn btn-lg mb-1 modbtn"  onclick="submitItem()">Submit</button>
                    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect btn btn-lg mb-1 modbtn" onclick="closeModal()">Cancel</button>
                </div>
    
            </div>
            <!-- Your existing modal script and other content here -->
        </div>
    </div>
    <div id="newContent" style=" height: 100vh;">
        <!-- Content for the new left-content -->
        <!-- Category div with buttons -->
        <div class="items" id="vegstartercontainer">
            <!-- Buttons will be dynamically added here -->
        </div>
    </div>

    <script>
        function submitItem() {
            var spicyselect = document.getElementById("spicyLevel");
            var portionselect = document.getElementById("portion");
            var typeselect = document.getElementById("type");
            var spicyerrorMessageLabel = document.getElementById('spicyerrorMessage');
            var portionerrorMessageLabel = document.getElementById('portionerrorMessage');
            var typeerrorMessageLabel = document.getElementById('typeerrorMessage');
            if (typeselect.value == "none") {   
                typeselect.style.backgroundColor = 'red';             
            }else{
                typeselect.style.backgroundColor = '#3b3b3b';
            }
            if (spicyselect.value == "none"){
                spicyselect.style.backgroundColor = 'red';     
            }else{
                spicyselect.style.backgroundColor = '#3b3b3b';
            }
            if(portionselect.value == "none"){
                portionselect.style.backgroundColor = 'red';     
            }else{
                portionselect.style.backgroundColor = '#3b3b3b';
            }
        }
        
        function openModal(itemName) {
            var modal = document.getElementById('itemModal');
            modal.style.display = 'block';

            // Set the item name label based on the passed item name
            var itemNameLabel = document.getElementById('itemName');

            if (itemNameLabel) {
                itemNameLabel.innerHTML = 'Item Name: ' + itemName;
                console.log(itemName);
                if(itemName == "Mix Veg£8.00" || itemName == "Paneer£8.00"){
                    var select = document.getElementById("portionid");
                    select.style.display = 'none';
                    var select = document.getElementById("typeid");
                    select.style.display = 'visible';
                }
                else{
                    var select = document.getElementById("portionid");
                    select.style.display = 'none';
                    var select = document.getElementById("typeid");
                    select.style.display = 'none';
                }
            } else {
                console.error('Item name label not found.');
            }
        }

        function closeModal() {
            var modal = document.getElementById('itemModal');
            modal.style.display = 'none';
        }

        var quantityValue = 1; // Initial quantity value

        function incrementQuantity() {
            quantityValue++;
            updateQuantityDisplay();
        }

        function decrementQuantity() {
            if (quantityValue > 1) {
                quantityValue--;
                updateQuantityDisplay();
            }
        }

        function updateQuantityDisplay() {
            var quantityDisplay = document.getElementById('quantityValue');
            quantityDisplay.textContent = quantityValue.toString().padStart(2, '0');
        }
        // Create buttons using the DOM API
        var categoryButtonsContainer = document.getElementById("vegstartercontainer");

        var items = [
            "Egg Curry",
            "Mix Veg",
            "Veg Methi (Soya) Kheema Tawa",
            "Tarka Dal",
            "Dal Makhani",
            "Bombay Aloo",
            "Bhindi Masala",
            "Sweet Corn Methi",
            "Rajma Curry",
            "Aloo Mutter",
            "Channa Masala",
            "Aloo Palak",
            "Aloo Methi",
            "Sag Aloo",
            "Paneer",
            "Paneer Tikka Masala",
            "Paneer Butter Masala",
            "Mutter Paneer",
            "Paneer Shaslik Kadai",
            "Garlic Chilli Paneer",
            "Vegetable Tikka (Soya)",
            "Egg Burji"
        ];
        
        var price = ["£8.00", "£8.00", "£8.00", "£8.00", "£8.00", 
                    "£8.00", "£8.00", "£8.00", "£8.00", "£8.00", 
                    "£8.00", "£8.00", "£8.00", "£8.00", "£8.50", 
                    "£8.50", "£8.50", "£8.50", "£8.50", "£8.50", 
                    "£9.00", "£9.00"
                ]

            for (let i = 0; i < items.length; i++) {
            var button = document.createElement("button");
            button.className = "mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect btn btn-lg mb-1 custom-button";
            button.style.width = "12.375rem";
            button.style.height = "7.375rem";
            var itemNameDiv = document.createElement("div");
            itemNameDiv.className = "item-name";
            itemNameDiv.textContent = items[i];

            // Create a div for the price
            var priceDiv = document.createElement("div");
            priceDiv.className = "item-price";
            priceDiv.textContent = price[i];

            // Append the item name and price divs to the button
            button.appendChild(itemNameDiv);
            button.appendChild(priceDiv);

            // Manually control the spacing between buttons
            button.style.marginRight = "10px";
            button.style.marginBottom = "10px";
            button.onclick = function () {
                    openModal(items[i] + price[i]);
                };

            categoryButtonsContainer.appendChild(button);
            
        }
    </script>

    <!-- Include MDL JS -->
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
</body>
</html>
